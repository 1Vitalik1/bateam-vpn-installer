###############################################
# VPN Obfuscation Stack - Environment Config
###############################################

# ВАЖНО: Замените значения перед использованием!
# Используйте install.sh для автоматической генерации

###############################################
# Server Configuration
###############################################

# Публичный IP адрес вашего сервера
# Получите через: curl ifconfig.me
SERVER_IP=YOUR_SERVER_IP_HERE

###############################################
# OpenVPN Settings
###############################################

# Включить обфускацию трафика (true/false)
OPENVPN_ENABLE_OBFUSCATION=true

# Пароль для scramble обфускации
# ВАЖНО: Измените на сложный пароль!
OPENVPN_SCRAMBLE_PASSWORD=ChangeThisPassword123

# Протокол (tcp или udp)
# tcp - надежнее, лучше для обфускации
# udp - быстрее, но может блокироваться
OPENVPN_PROTO=tcp

# Порт OpenVPN
# 443 - маскировка под HTTPS (рекомендуется)
# 1194 - стандартный порт OpenVPN
OPENVPN_PORT=1194

# Подсеть для VPN клиентов
SERVER_SUBNET=10.8.0.0

# DNS серверы для клиентов
# 10.8.0.1 - локальный DNSCrypt
# 1.1.1.1 - Cloudflare
# 8.8.8.8 - Google
DNS_SERVER_1=10.8.0.1
DNS_SERVER_2=1.1.1.1

###############################################
# DPI Bypass Settings (Zapret)
###############################################

# Режим работы: tpws или nfqws
# tpws - прозрачный прокси (рекомендуется)
# nfqws - netfilter queue (более продвинутый)
MODE=tpws

# Порт для TPWS
TPWS_PORT=988

# Аргументы для TPWS
# --split-pos=2 - позиция разделения пакета
# --split-http-req=method - разделение HTTP запроса
# --disorder - отправка пакетов не по порядку
# --oob - отправка out-of-band данных
TPWS_ARGS=--split-pos=2 --split-http-req=method --disorder --oob

# Номер очереди для NFQWS
NFQWS_QUEUE=200

# Аргументы для NFQWS
# --dpi-desync=split2 - метод десинхронизации
# --dpi-desync-ttl=5 - TTL для фальшивых пакетов
# --dpi-desync-fooling=badseq - метод обмана DPI
NFQWS_ARGS=--dpi-desync=split2 --dpi-desync-ttl=5 --dpi-desync-fooling=badseq

# Включить IPv6 (true/false)
ENABLE_IPV6=false

# Страновые пресеты (опционально)
# russia, china, iran, turkey или оставьте пустым
COUNTRY_PRESET=

###############################################
# Stunnel Settings (SSL Wrapper)
###############################################

# Порты для Stunnel
STUNNEL_PORT_1=4443
STUNNEL_PORT_2=8443

###############################################
# DNSCrypt Settings
###############################################

# Адрес для прослушивания
DNSCRYPT_LISTEN_ADDRESS=0.0.0.0:5353

# DNS серверы для использования
# Список доступных: cloudflare, google, quad9-dnscrypt-ip4-nofilter-pri
DNSCRYPT_SERVER_NAMES=cloudflare,google

# Включить DNS-over-HTTPS
DNSCRYPT_DOH=true

# Включить логирование запросов (для отладки)
DNSCRYPT_QUERY_LOG=false

###############################################
# Shadowsocks Settings
###############################################

# Адрес сервера (обычно 0.0.0.0)
SS_SERVER_ADDR=0.0.0.0

# Порт
SS_SERVER_PORT=8388

# Пароль
# ВАЖНО: Измените на сложный пароль!
SS_PASSWORD=ChangeThisShadowsocksPassword456

# Метод шифрования
# Рекомендуемые: chacha20-ietf-poly1305, aes-256-gcm
SS_METHOD=chacha20-ietf-poly1305

# Timeout (секунды)
SS_TIMEOUT=300

# Режим работы (tcp_only, udp_only, tcp_and_udp)
SS_MODE=tcp_and_udp

###############################################
# V2Ray Settings
###############################################

# Порт для VMess
V2RAY_VMESS_PORT=10086

# Порт для WebSocket
V2RAY_WS_PORT=10087

# UUID для клиентов
# Генерация: cat /proc/sys/kernel/random/uuid
# или: uuidgen
V2RAY_UUID=GENERATE_UUID_HERE

# AlterID (рекомендуется 0 для современных клиентов)
V2RAY_ALTERID=0

# WebSocket path
V2RAY_WS_PATH=/v2ray

###############################################
# Web UI Settings
###############################################

# Порт для веб-интерфейса
WEBUI_PORT=8080

# Flask окружение (production или development)
FLASK_ENV=production

# Секретный ключ для сессий
# Генерация: openssl rand -hex 32
SECRET_KEY=GENERATE_SECRET_KEY_HERE

# Пароль администратора
# ВАЖНО: Измените на сложный пароль!
ADMIN_PASSWORD=ChangeThisAdminPassword789

# Имя пользователя администратора
ADMIN_USERNAME=admin

###############################################
# Redis Settings
###############################################

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

###############################################
# Monitoring Settings
###############################################

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=15d

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

###############################################
# Performance Tuning
###############################################

# Максимальное количество OpenVPN клиентов
OPENVPN_MAX_CLIENTS=100

# Размеры буферов (байты)
OPENVPN_SNDBUF=393216
OPENVPN_RCVBUF=393216

# Включить сжатие OpenVPN (true/false)
# Может замедлить соединение, но уменьшит трафик
OPENVPN_COMPRESSION=false

# Количество воркеров для Shadowsocks
SS_WORKERS=4

# Количество воркеров для DPI bypass
DPI_WORKERS=4

###############################################
# Security Settings
###############################################

# Минимальная версия TLS для OpenVPN
TLS_VERSION_MIN=1.2

# Cipher для OpenVPN
OPENVPN_CIPHER=AES-256-GCM

# Auth digest для OpenVPN
OPENVPN_AUTH=SHA512

# Включить TLS auth (дополнительная защита)
OPENVPN_TLS_AUTH=true

###############################################
# Logging Settings
###############################################

# Уровень логирования OpenVPN (0-11)
# 0 - только критические ошибки
# 3 - нормальный уровень
# 6 - подробный
OPENVPN_VERB=3

# Уровень логирования DPI bypass (0-3)
DPI_LOG_LEVEL=1

# Включить логирование DNS запросов
DNS_QUERY_LOG=false

###############################################
# Advanced Settings
###############################################

# Разрешить client-to-client соединения
OPENVPN_CLIENT_TO_CLIENT=false

# Разрешить дублирование common name
OPENVPN_DUPLICATE_CN=false

# Таймаут для keepalive (секунды)
OPENVPN_KEEPALIVE_INTERVAL=10
OPENVPN_KEEPALIVE_TIMEOUT=120

# Использовать TCP nodelay (снижает латентность)
OPENVPN_TCP_NODELAY=true

# Использовать fast-io
OPENVPN_FAST_IO=true

###############################################
# Backup Settings
###############################################

# Директория для бэкапов
BACKUP_DIR=/opt/vpn-backups

# Сохранять бэкапы (дней)
BACKUP_RETENTION_DAYS=30

###############################################
# Feature Flags
###############################################

# Включить/выключить отдельные сервисы
ENABLE_OPENVPN=true
ENABLE_DPI_BYPASS=true
ENABLE_STUNNEL=true
ENABLE_DNSCRYPT=true
ENABLE_SHADOWSOCKS=true
ENABLE_V2RAY=true
ENABLE_WEBUI=true
ENABLE_MONITORING=true

###############################################
# Development Settings (только для разработки)
###############################################

# Режим отладки
DEBUG=false

# Пересоздавать контейнеры при каждом запуске
RECREATE_CONTAINERS=false